{"version":3,"sources":["express.js"],"names":[],"mappings":";;AAAA,IAAI,SAAS,QAAQ,UAAR,CAAb;AAAA,IACI,UAAU,QAAQ,SAAR,CADd;AAAA,IAEI,SAAS,QAAQ,QAAR,CAFb;AAAA,IAGI,WAAW,QAAQ,aAAR,CAHf;AAAA,IAII,aAAa,QAAQ,aAAR,CAJjB;AAAA,IAKI,iBAAiB,QAAQ,iBAAR,CALrB;AAAA,IAMI,UAAU,QAAQ,iBAAR,CANd;AAAA,IAOI,QAAQ,QAAQ,eAAR,CAPZ;AAAA,IAQI,WAAW,QAAQ,UAAR,CARf;;AAUA,IAAI,OAAO,SAAP,IAAO,CAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AACjC;AACA,QAAI,IAAI,IAAJ,CAAS,KAAT,CAAe,aAAf,CAAJ,EAAmC;AAC/B;AACA;AACH;;AAED,QAAI,IAAI,IAAJ,CAAS,KAAT,CAAe,YAAf,CAAJ,EAAkC;AAC9B;AACA;AACH;;AAGD,QAAI,CAAC,IAAI,eAAJ,EAAL,EAA4B,IAAI,IAAJ,CAAS,GAAT,EAA5B,KACK;AACR,CAfD;;AAkBA,OAAO,OAAP,GAAiB,YAAY;AACzB,QAAI,MAAM,SAAV;AACA,QAAI,QAAQ,GAAR,CAAY,QAAZ,KAAyB,aAA7B,EAA4C;AACxC,YAAI,GAAJ,CAAQ,OAAO,KAAP,CAAR;AACH,KAFD,MAEO,IAAI,QAAQ,GAAR,CAAY,QAAZ,KAAyB,YAA7B,EAA2C;AAC9C,YAAI,GAAJ,CAAQ,UAAR;AACH;AACD,QAAI,GAAJ,CAAQ,WAAW,UAAX,CAAsB;AAC1B,kBAAU;AADgB,KAAtB,CAAR;AAGA,QAAI,GAAJ,CAAQ,WAAW,IAAX,EAAR;AACA,QAAI,GAAJ,CAAQ,gBAAR;AACA,QAAI,GAAJ,CAAQ,OAAR;;AAEA,QAAI,GAAJ,CAAQ,QAAQ;AACZ,2BAAmB,IADP;AAEZ,gBAAQ,IAFI;AAGZ,gBAAQ,OAAO;AAHH,KAAR,CAAR;;AAMA,QAAI,GAAJ,CAAQ,OAAR,EAAiB,aAAjB;AACA,QAAI,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACA;AACA;;AAEA,QAAI,GAAJ,CAAQ,QAAQ,MAAR,CAAe,UAAf,CAAR;AACA,QAAI,GAAJ,CAAQ,mBAAR,EAA6B,QAAQ,MAAR,CAAe,oBAAf,CAA7B;;AAEA,QAAI,GAAJ,CAAQ,SAAS,UAAT,EAAR;AACA,QAAI,GAAJ,CAAQ,SAAS,OAAT,EAAR;;AAEA;AACA;;AAEA,YAAQ,sCAAR,EAAgD,GAAhD;AACA,YAAQ,sCAAR,EAAgD,GAAhD;AACA,YAAQ,qCAAR,EAA+C,GAA/C;AACA,WAAO,GAAP;AACH,CAtCD","file":"express-compiled.js","sourcesContent":["var config = require('./config'),\n    express = require('express'),\n    morgan = require('morgan'),\n    compress = require('compression'),\n    bodyParser = require('body-parser'),\n    methodOverride = require('method-override'),\n    session = require('express-session'),\n    flash = require('connect-flash'),\n    passport = require('passport');\n\nvar auth = function (req, res, next) {\n    // exclude url\n    if (req.path.match(/^\\/users.*$/)) {\n        next();\n        return;\n    }\n\n    if (req.path.match(/^\\/singin$/)) {\n        next();\n        return;\n    }\n\n\n    if (!req.isAuthenticated()) res.send(401);\n    else next();\n};\n\n\nmodule.exports = function () {\n    var app = express();\n    if (process.env.NODE_ENV === 'development') {\n        app.use(morgan('dev'));\n    } else if (process.env.NODE_ENV === 'production') {\n        app.use(compress());\n    }\n    app.use(bodyParser.urlencoded({\n        extended: true\n    }));\n    app.use(bodyParser.json());\n    app.use(methodOverride());\n    app.use(flash());\n\n    app.use(session({\n        saveUninitialized: true,\n        resave: true,\n        secret: config.sessionSecret\n    }));\n\n    app.set('views', './app/views');\n    app.set('view engine', 'ejs');\n    // app.set('view engine', 'jsx');\n    // app.engine('jsx', require('express-react-views').createEngine());\n\n    app.use(express.static('./public'));\n    app.use(\"/bower_components\", express.static('./bower_components'));\n\n    app.use(passport.initialize());\n    app.use(passport.session());\n\n    // config authenticate\n    // app.all(\"*\", auth);\n\n    require('../app/routes/index.server.routes.js')(app);\n    require('../app/routes/users.server.routes.js')(app);\n    require('../app/routes/reactjs.server.routes')(app);\n    return app;\n};"]}